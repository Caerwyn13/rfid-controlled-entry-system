"""
Entry point of the program
Opens up a login window
"""

import tkinter as tk
from tkinter import messagebox

import mainwindow


# Create root window
root = tk.Tk()
root.title("Log in | Carpal Inc.")

window_width = 300
window_height = 200
screen_width = root.winfo_screenwidth()
screen_height = root.winfo_screenheight()

centre_x = int(screen_width/2 - window_width/2)
centre_y = int(screen_height/2 - window_height/2)

root.geometry(f"{window_width}x{window_height}+{centre_x}+{centre_y}")
root.resizable(True, True)
root.iconbitmap("assets/main_window.ico")

# Validate login input
# TODO: Make this more secure
def validate_login():
    userid = username_entry.get()
    password = password_entry.get()

    if userid == "admin" and password == "pass":
        root.destroy()
        mainwindow.main()
    else:
        messagebox.showerror("Login Failed", "Invalid username or password")


# Username entry
username_label = tk.Label(root, text="Username: ")
username_label.pack()

username_entry = tk.Entry(root)
username_entry.pack()


# Password entry
password_label = tk.Label(root, text="Password: ")
password_label.pack()

password_entry = tk.Entry(root, show="*")
password_entry.pack()


# Login button
login_button = tk.Button(root, text="Login", command=validate_login)
login_button.pack()


root.mainloop()
